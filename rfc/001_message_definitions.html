

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RFC - Message Definition &mdash; jsLingui  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Migration guide from 0.x to 1.x" href="../releases/migration-1.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-52365043-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-52365043-2');
</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> jsLingui
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/react.html">React</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/react-patterns.html">React - common patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/react-native.html">React Native</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/javascript.html">JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/cli.html">CLI</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/typescript.html">Typescript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/excluding-build-files.html">Excluding build files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/dynamic-loading-catalogs.html">Dynamic loading of translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/optimized-components.html">Optimized components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/plurals.html">How plurals work</a></li>
</ul>
<p class="caption"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ref/core.html">Core (JavaScript)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/js.macro.html">JS Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/react.html">React</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/conf.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/loader.html">Webpack Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/message-format.html">ICU MessageFormat</a></li>
</ul>
<p class="caption"><span class="caption-text">Discussion</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/showroom.html">Projects using jsLingui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/react-intl.html">Comparison with react-intl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/talks-about-i18n.html">Talks and articles about i18n in JavaScript</a></li>
</ul>
<p class="caption"><span class="caption-text">Releases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/migration-2.html">Migration from 1.x to 2.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/migration-1.html">Migration from 0.x to 1.x</a></li>
</ul>
<p class="caption"><span class="caption-text">RFCs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">001 – Message Definitions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#background">Background</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-feature-metadata">New feature - Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#problem-1-distinguish-metadata-and-id">Problem 1 - distinguish metadata and id</a></li>
<li class="toctree-l3"><a class="reference internal" href="#problem-2-workflow-with-custom-ids">Problem 2 - workflow with custom IDs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#solution">Solution</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#messages-used-as-ids">Messages used as IDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#plurals-and-other-formatters">plurals and other formatters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lazy-translations">Lazy translations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#messages-with-custom-ids">Messages with custom IDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Lazy translations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#common-catalogs">Common catalogs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">jsLingui</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>RFC - Message Definition</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/lingui/js-lingui/blob/master/docs/rfc/001_message_definitions.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rfc-message-definition">
<h1>RFC - Message Definition<a class="headerlink" href="#rfc-message-definition" title="Permalink to this headline">¶</a></h1>
<p>Proposal for a new <code class="docutils literal notranslate"><span class="pre">&#64;lingui/core</span></code> message API using Babel macros released in 3.0.</p>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/lingui/js-lingui">jsLingui</a> aims to support these two common use cases:</p>
<ol class="arabic simple">
<li>messages which are also used as an ID</li>
<li>messages with custom IDs</li>
</ol>
<p>In both cases we should be able to define lazy translations, which aren’t evaluated
immediately.</p>
<div class="section" id="new-feature-metadata">
<h3>New feature - Metadata<a class="headerlink" href="#new-feature-metadata" title="Permalink to this headline">¶</a></h3>
<p>Each message might contain additional medatata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span> <span class="n">Metadata</span> <span class="o">=</span> <span class="n">string</span> <span class="o">|</span> <span class="n">Object</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">Metadata</span></code> is a string, it’s a bascially message description. These two examples
are equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>t(&quot;help for translators&quot;)`Default message`

t({ description: &quot;help for translators&quot; })`Default message`
</pre></div>
</div>
<p>Passing an object as <code class="docutils literal notranslate"><span class="pre">Metadata</span></code> allows developer to annotate message with additional
data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>t({
   description: &quot;help for translators&quot;,
   style: &quot;informal&quot;
})`Default message`
</pre></div>
</div>
</div>
<div class="section" id="problem-1-distinguish-metadata-and-id">
<h3>Problem 1 - distinguish metadata and id<a class="headerlink" href="#problem-1-distinguish-metadata-and-id" title="Permalink to this headline">¶</a></h3>
<p>Until now, the first argument of <cite>i18n.t</cite> was a message ID:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>i18n.t(&quot;id&quot;)`Default message`
</pre></div>
</div>
<p>After adding an optional metadata, this use case would clash with metadata passed as
string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>i18n.t(&quot;id or help text&quot;)`Default message`
</pre></div>
</div>
</div>
<div class="section" id="problem-2-workflow-with-custom-ids">
<h3>Problem 2 - workflow with custom IDs<a class="headerlink" href="#problem-2-workflow-with-custom-ids" title="Permalink to this headline">¶</a></h3>
<p>In projects using custom message IDs, we define default message and help text just once
and then use an ID everywhere else:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Define
i18n.t(&quot;message.id&quot;)`Default message with ${param}`

// Use
i18n._(&quot;message.id&quot;, { param })
</pre></div>
</div>
<p>Common workflow is define all messages in one place either globally or locally on the
top of the file and then use identifiers instead of strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Define</span>
<span class="n">const</span> <span class="n">message</span> <span class="o">=</span> <span class="n">i18Mark</span><span class="p">(</span><span class="s2">&quot;Default message with </span><span class="si">{param}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="o">//</span>                       <span class="o">^-</span> <span class="ow">not</span> <span class="n">possible</span> <span class="n">to</span> <span class="n">use</span> <span class="n">macros</span> <span class="n">here</span>

<span class="o">//</span> <span class="n">Use</span>
<span class="n">i18n</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">{</span> <span class="n">param</span> <span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="solution">
<h2>Solution<a class="headerlink" href="#solution" title="Permalink to this headline">¶</a></h2>
<div class="section" id="messages-used-as-ids">
<h3>Messages used as IDs<a class="headerlink" href="#messages-used-as-ids" title="Permalink to this headline">¶</a></h3>
<p>This use case is trivial as all we need to do is wrap a message in <code class="docutils literal notranslate"><span class="pre">t</span></code> template
tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Macro
t`Default message`

// Becomes
i18n._(&quot;Defaut message&quot;)
</pre></div>
</div>
<p>With variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Macro
t`Default message with ${param}`

// Becomes
i18n._(&quot;Defaut message with {param}&quot;, { param })
</pre></div>
</div>
<p>First (and only) argument passed to <code class="docutils literal notranslate"><span class="pre">t</span></code> macro will become message metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Macro
t(&quot;help text&quot;)`Default message`

// In production, it becomes
i18n._(&quot;Defaut message&quot;)

// In development, it becomes
i18n._(&quot;Defaut message&quot;, {}, { description: &quot;help text&quot; })
</pre></div>
</div>
<div class="section" id="plurals-and-other-formatters">
<h4>plurals and other formatters<a class="headerlink" href="#plurals-and-other-formatters" title="Permalink to this headline">¶</a></h4>
<p>If <code class="docutils literal notranslate"><span class="pre">plural</span></code>, <code class="docutils literal notranslate"><span class="pre">select</span></code> or <code class="docutils literal notranslate"><span class="pre">selectOrdinal</span></code> formats are called with two arguments,
the first one is considered message metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Macro</span>
<span class="n">plural</span><span class="p">(</span><span class="s2">&quot;help text&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">value</span><span class="p">,</span> <span class="n">one</span><span class="p">:</span> <span class="s2">&quot;# book&quot;</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;# books&quot;</span> <span class="p">})</span>

<span class="o">//</span> <span class="n">In</span> <span class="n">production</span><span class="p">,</span> <span class="n">it</span> <span class="n">becomes</span>
<span class="n">i18n</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;{value, plural, one {# book} other {# books}}&quot;</span><span class="p">)</span>

<span class="o">//</span> <span class="n">In</span> <span class="n">development</span><span class="p">,</span> <span class="n">it</span> <span class="n">becomes</span>
<span class="n">i18n</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
   <span class="s2">&quot;{value, plural, one {# book} other {# books}}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span> <span class="n">description</span><span class="p">:</span> <span class="s2">&quot;help text&quot;</span> <span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="lazy-translations">
<h4>Lazy translations<a class="headerlink" href="#lazy-translations" title="Permalink to this headline">¶</a></h4>
<p>Lazy translations are useful when we need to define a message, but translate it later.
This was previously achieved using <code class="docutils literal notranslate"><span class="pre">i18Mark</span></code>, now it’s be replaced with <code class="docutils literal notranslate"><span class="pre">t.lazy</span></code>
macro:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>const msg = t.lazy`Default message`

// It becomes
const msg = () =&gt; i18n._(&quot;Default message&quot;)

// The translation is returned by simply calling the message:
const translation = msg()

// It&#39;s possible to get the ID of message
const id = msg.id
</pre></div>
</div>
<p>It also works for other formats: <code class="docutils literal notranslate"><span class="pre">plural.lazy</span></code>, <code class="docutils literal notranslate"><span class="pre">select.lazy</span></code> and <code class="docutils literal notranslate"><span class="pre">selectOrdinal.lazy</span></code>.</p>
<p>Multiple lazy translations can be defined using <code class="docutils literal notranslate"><span class="pre">defineMessages</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>const languages = defineMessages({
   en: `English`,
   cs: `Czech`,
   fr: `French`,
}
</pre></div>
</div>
<p>Lazy translations are usually defined in different scope than evaluated. Parameters
are therefore unknown, but we still need to know the name of parameters, so we can
include it in ICU MessageSyntax. We can use <code class="docutils literal notranslate"><span class="pre">arg</span></code> macro for that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Macro</span>
<span class="n">const</span> <span class="n">books</span> <span class="o">=</span> <span class="n">plural</span><span class="o">.</span><span class="n">lazy</span><span class="p">({</span>
   <span class="n">value</span><span class="p">:</span> <span class="n">arg</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">),</span>
   <span class="n">one</span><span class="p">:</span> <span class="s1">&#39;# book&#39;</span><span class="p">,</span>
   <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;# books&#39;</span>
<span class="p">})</span>

<span class="n">const</span> <span class="n">translation</span> <span class="o">=</span> <span class="n">books</span><span class="p">({</span> <span class="n">count</span><span class="p">:</span> <span class="mi">42</span> <span class="p">})</span>
</pre></div>
</div>
<p>The advantage is that function books is type-checked. Missing or extra parameters
are catched by type system.</p>
<p>This is very similar to <code class="docutils literal notranslate"><span class="pre">define</span></code> for projects using custom IDs described below.
The only difference is that <code class="docutils literal notranslate"><span class="pre">t.lazy</span></code> doesn’t accept message ID as a first argument
and should be used only in projects using messages as IDs.</p>
</div>
</div>
<div class="section" id="messages-with-custom-ids">
<h3>Messages with custom IDs<a class="headerlink" href="#messages-with-custom-ids" title="Permalink to this headline">¶</a></h3>
<p>In projects using custom IDs we use <code class="docutils literal notranslate"><span class="pre">t.id</span></code> macro:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// macro
t.id(&quot;id&quot;, &quot;help text&quot;)`default message`

// In production, it becomes
i18n._(&quot;id&quot;)

// In development, it becomes
i18n._(&quot;id&quot;, {}, { defaults: &quot;default message&quot;, description: &quot;help text&quot; })
</pre></div>
</div>
<p>Plurals and other formatters have <code class="docutils literal notranslate"><span class="pre">.id</span></code> variations as well:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Macro</span>
<span class="n">plural</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;help text&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">value</span><span class="p">,</span> <span class="n">one</span><span class="p">:</span> <span class="s2">&quot;# book&quot;</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;# books&quot;</span> <span class="p">})</span>

<span class="o">//</span> <span class="n">In</span> <span class="n">production</span><span class="p">,</span> <span class="n">it</span> <span class="n">becomes</span>
<span class="n">i18n</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">value</span> <span class="p">})</span>

<span class="o">//</span> <span class="n">In</span> <span class="n">development</span><span class="p">,</span> <span class="n">it</span> <span class="n">becomes</span>
<span class="n">i18n</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
   <span class="s2">&quot;id&quot;</span><span class="p">,</span>
   <span class="p">{</span> <span class="n">value</span> <span class="p">},</span>
   <span class="p">{</span>
      <span class="n">defaults</span><span class="p">:</span> <span class="s2">&quot;{value, plural, one {# book} other {# books}}&quot;</span><span class="p">,</span>
      <span class="n">description</span><span class="p">:</span> <span class="s2">&quot;help text&quot;</span>
   <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="section" id="id1">
<h4>Lazy translations<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>More interesting are lazy translations.</p>
</div>
<div class="section" id="definition">
<h4>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h4>
<p>Single messages is defined using macro <code class="docutils literal notranslate"><span class="pre">define</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>const msg = t.id.lazy(&quot;id&quot;)`Default message`
</pre></div>
</div>
<p>Group of messages is defined using macro <code class="docutils literal notranslate"><span class="pre">defineMessages</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Object key becomes message ID
// Macro
const messages = defineMessages({
   id: t(&quot;help text&quot;)`Default message`
}

// In production, it becomes
const messages = {
   id: () =&gt; i18n._(&quot;id&quot;)
}

// In development, it becomes
const messages = {
   id: () =&gt; i18n._(&quot;id&quot;, {}, { description: &quot;help text&quot;, defaults: &quot;Default message&quot;})
}
</pre></div>
</div>
<p>Using variables is similar as in previous section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>const msg = t.id.lazy(&quot;id&quot;)`Message with ${arg(&#39;variable&#39;)}`

const translation = msg({ variable: 42 })

const plural = plural.id.lazy(&quot;id&quot;, {
   value: arg(&quot;variable&quot;),
   one: &quot;# book&quot;,
   other: &quot;# books&quot;,
}))

const pluralTranslation = plural({ variable: 42 })
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h4>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h4>
<p>Defined messages are functions which takes variables used in message (if any):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>const msg = t.id.lazy(&quot;id&quot;, &quot;help text&quot;)`Default message`
const translation = msg()

const messages = defineMessages({
   id: t(&quot;help text&quot;)`Default message`
}
messages.id()
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>The API solves following issues:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/lingui/js-lingui/issues/197">#197</a> - Add metadata to messages</li>
<li><a class="reference external" href="https://github.com/lingui/js-lingui/issues/197">#258</a> - i18Mark should accept default value</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="30%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Macro <code class="docutils literal notranslate"><span class="pre">t</span></code></th>
<th class="head">Translation</th>
<th class="head">Lazy Translation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Message as ID</td>
<td>t`Message`</td>
<td>t.lazy`Message`</td>
</tr>
<tr class="row-odd"><td>Message as ID with metadata</td>
<td>t(meta)`Message`</td>
<td>t.lazy(meta)`Message`</td>
</tr>
<tr class="row-even"><td>Custom ID</td>
<td>t.id(id)`Message`</td>
<td>t.id.lazy(id)`Message`</td>
</tr>
<tr class="row-odd"><td>Custom ID with metadata</td>
<td>t.id(id, meta)`Message`</td>
<td>t.id.lazy(id, meta)`Message`</td>
</tr>
</tbody>
</table>
<p>Argument of <code class="docutils literal notranslate"><span class="pre">plural</span></code> are omitted. Macro <code class="docutils literal notranslate"><span class="pre">select</span></code>, <code class="docutils literal notranslate"><span class="pre">selectOrdinal</span></code> are similar:</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="32%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Macro <code class="docutils literal notranslate"><span class="pre">plural</span></code></th>
<th class="head">Translation</th>
<th class="head">Lazy Translation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Message as ID</td>
<td>plural({ … })</td>
<td>plural.lazy({ … })</td>
</tr>
<tr class="row-odd"><td>Message as ID with metadata</td>
<td>plural(meta, { … })</td>
<td>plural.lazy(meta, { … })</td>
</tr>
<tr class="row-even"><td>Custom ID</td>
<td>plural.id(id, { … })</td>
<td>plural.id.lazy(id, { … })</td>
</tr>
<tr class="row-odd"><td>Custom ID with metadata</td>
<td>plural.id(id, meta, { … })</td>
<td>plural.id.lazy(id, meta, { … })</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">i18Mark</span></code> will become obsolete in favor of <code class="docutils literal notranslate"><span class="pre">.lazy</span></code> macros.</p>
<div class="section" id="common-catalogs">
<h3>Common catalogs<a class="headerlink" href="#common-catalogs" title="Permalink to this headline">¶</a></h3>
<p>Feature request from #258, implemented using <code class="docutils literal notranslate"><span class="pre">defineMessages</span></code>:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">defineMessages</span> <span class="p">}</span> <span class="nx">from</span> <span class="sb">`@lingui/js.macro`</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">defineMessages</span><span class="p">({</span>
   <span class="nx">yes</span><span class="o">:</span> <span class="s2">&quot;Yes&quot;</span><span class="p">,</span>
   <span class="nx">no</span><span class="o">:</span> <span class="s2">&quot;No&quot;</span><span class="p">,</span>
   <span class="nx">cancel</span><span class="o">:</span> <span class="s2">&quot;Cancel&quot;</span><span class="p">,</span>
   <span class="nx">confirmDelete</span><span class="o">:</span> <span class="sb">`Do you really want to delete </span><span class="si">${</span><span class="nx">arg</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span><span class="si">}</span><span class="sb">?`</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Catalogs are type-checked by default:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="nx">common</span> <span class="nx">from</span> <span class="s1">&#39;./common&#39;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">common</span><span class="p">.</span><span class="nx">confirmDelete</span><span class="p">({</span> <span class="nx">filename</span><span class="o">:</span> <span class="s2">&quot;common.js&quot;</span> <span class="p">}))</span>

<span class="c1">// These examples would throw type error:</span>
<span class="c1">// common.confrmDelete()  // unknown attribute `confrmDelete` (typo)</span>
<span class="c1">// common.confirmDelete()  // missing first argument</span>
<span class="c1">// common.confirmDelete({ flname: &quot;common.js&quot; })  // invalid object type (typo)</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../releases/migration-1.html" class="btn btn-neutral" title="Migration guide from 0.x to 1.x" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Tomáš Ehrlich.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>